!function(){"use strict";var t="undefined"==typeof window?global:window;if("function"!=typeof t.require){var e={},i={},n={},r={}.hasOwnProperty,a=/^\.\.?(\/|$)/,o=function(t,e){for(var i,n=[],r=(a.test(e)?t+"/"+e:e).split("/"),o=0,s=r.length;o<s;o++)i=r[o],".."===i?n.pop():"."!==i&&""!==i&&n.push(i);return n.join("/")},s=function(t){return t.split("/").slice(0,-1).join("/")},h=function(e){return function(i){var n=o(s(e),i);return t.require(n,e)}},u=function(t,e){var n=null;n=m&&m.createHot(t);var r={id:t,exports:{},hot:n};return i[t]=r,e(r.exports,h(t),r),r.exports},p=function(t){return n[t]?p(n[t]):t},c=function(t,e){return p(o(s(t),e))},l=function(t,n){null==n&&(n="/");var a=p(t);if(r.call(i,a))return i[a].exports;if(r.call(e,a))return u(a,e[a]);throw new Error("Cannot find module '"+t+"' from '"+n+"'")};l.alias=function(t,e){n[e]=t};var d=/\.[^.\/]+$/,f=/\/index(\.[^\/]+)?$/,y=function(t){if(d.test(t)){var e=t.replace(d,"");r.call(n,e)&&n[e].replace(d,"")!==e+"/index"||(n[e]=t)}if(f.test(t)){var i=t.replace(f,"");r.call(n,i)||(n[i]=t)}};l.register=l.define=function(t,n){if("object"==typeof t)for(var a in t)r.call(t,a)&&l.register(a,t[a]);else e[t]=n,delete i[t],y(t)},l.list=function(){var t=[];for(var i in e)r.call(e,i)&&t.push(i);return t};var m=t._hmr&&new t._hmr(c,l,e,i);l._cache=i,l.hmr=m&&m.wrap,l.brunch=!0,t.require=l}}(),function(){window;require.register("config.coffee",function(t,e,i){(function(){Lampyridae.name="Lampyridae",Lampyridae.version="0.2.6",Lampyridae.enableSimpleGlow=!0,Lampyridae.timestep=1,Lampyridae.PIx2=2*Math.PI}).call(this)}),require.register("core/canvas.coffee",function(t,e,i){(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Lampyridae.Canvas=function(){function e(e,i){if(this.parent=null!=i?i:"body",this.stop=t(this.stop,this),this.pause=t(this.pause,this),this.animate=t(this.animate,this),this.update=t(this.update,this),this.removeUpdate=t(this.removeUpdate,this),this.popUpdate=t(this.popUpdate,this),this.addUpdate=t(this.addUpdate,this),arguments.length<1)throw new Error("Lampyridae: Canvas requires an #id selector");this._updateStack=[],this._stopAnim=!1,this._pauseAnim=!1,this.findOrMakeCanvas(e),this.context=this.element.getContext("2d"),this.size(),window.addEventListener("resize",function(t){return function(){return t.size()}}(this)),this.draw=new Lampyridae.Draw(this)}return e.prototype.findOrMakeCanvas=function(t,e){return null==e&&(e=this.parent),this.element=document.getElementById(t),null!=this.element?this.parent=this.element.parentElement:(this.element=document.createElement("canvas"),"body"===e?this.parent=document.body:this.parent=document.getElementById(e),this.id(t),this.appendCanvas())},e.prototype.appendCanvas=function(){return this.parent.appendChild(this.element),console.log("Lampyridae: Appended #"+this.element.id+" to "+this.parent.nodeName.toLowerCase()+"#"+this.parent.id)},e.prototype.id=function(t){return null!=t&&(this.element.id=t),this.element.id},e.prototype.width=function(t){return null!=t&&this.element.setAttribute("width",t),this.element.clientWidth},e.prototype.height=function(t){return null!=t&&this.element.setAttribute("height",t),this.element.clientHeight},e.prototype.size=function(t,e){return null==t&&(t=this.parent.clientWidth),null==e&&(e=this.parent.clientHeight),this.width(t),this.height(e)},e.prototype.area=function(){return this.width()*this.height()},e.prototype.addUpdate=function(t){if("[object Function]"!==toString.call(t))throw new Error("Lampyridae: Canvas.addUpdate requires a function");return this._updateStack.push(t)},e.prototype.popUpdate=function(){return this._updateStack.length>0&&(this._updateStack.pop(),!0)},e.prototype.removeUpdate=function(t){var e,i,n;if("[object Function]"!==toString.call(t))throw new Error("Lampyridae: Canvas.addUpdate requires a function");for(e=i=n=this._updateStack.length-1;i>=0;e=i+=-1)if(this._updateStack[e]===t)return this._updateStack.splice(e,1),!0;return!1},e.prototype.update=function(){var t,e,i,n,r;for(n=this._updateStack,r=[],e=0,i=n.length;e<i;e++)t=n[e],r.push(t());return r},e.prototype.animate=function(){return this._stopAnim?(this._stopAnim=!1,this._pauseAnim=!1):(this._pauseAnim||this.update(),requestAnimationFrame(this.animate))},e.prototype.pause=function(){return this._pauseAnim=!this._pauseAnim},e.prototype.stop=function(){return this._stopAnim=!0},e.prototype.schedule=function(t,e){return setTimeout(e,t)},e.prototype.has2DContext=function(){return null!=this.context&&this.context.constructor===CanvasRenderingContext2D},e}(),i.exports=Lampyridae.Canvas}).call(this)}),require.register("core/draw.coffee",function(t,e,i){(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Lampyridae.Draw=function(){function e(e){if(this.canvas=e,this.circle=t(this.circle,this),this.arc=t(this.arc,this),this.glow=t(this.glow,this),this.fill=t(this.fill,this),this.stroke=t(this.stroke,this),this.end=t(this.end,this),this.begin=t(this.begin,this),this.beginClose=t(this.beginClose,this),this.setGlobalAlpha=t(this.setGlobalAlpha,this),this.resetGlobalAlpha=t(this.resetGlobalAlpha,this),this.clear=t(this.clear,this),this.clear=t(this.clear,this),arguments.length<1)throw new Error("Lampyridae: Draw requires an instance of Canvas");this.ctx=this.canvas.context,console.log("Lampyridae: Initialised 2D drawing object for #"+this.canvas.id()+" ")}return e.prototype.clear=function(t,e,i,n){return this.ctx.clearRect(t,e,i,n)},e.prototype.clear=function(){return this.ctx.clearRect(0,0,this.canvas.width(),this.canvas.height())},e.prototype.resetGlobalAlpha=function(){return this.ctx.globalAlpha=1},e.prototype.setGlobalAlpha=function(t){return 0<=t&&t<1?this.ctx.globalAlpha=t:this.resetGlobalAlpha()},e.prototype.beginClose=function(t){return this.ctx.beginPath(),"function"==typeof t&&t(),this.ctx.closePath()},e.prototype.begin=function(){return this.ctx.beginPath()},e.prototype.end=function(){return this.ctx.closePath()},e.prototype.stroke=function(t,e){return this.ctx.strokeStyle=e,this.ctx.lineWidth=t,this.ctx.stroke()},e.prototype.fill=function(t){return this.ctx.fillStyle=t,this.ctx.fill()},e.prototype.glow=function(t,e,i,n){return null==i&&(i=0),null==n&&(n=0),this.canvas.context.shadowOffsetX=i,this.canvas.context.shadowOffsetY=n,this.canvas.context.shadowColor=e,this.canvas.context.shadowBlur=t},e.prototype.arc=function(t,e,i,n,r,a){return null==r&&(r=0),null==a&&(a=!1),this.ctx.arc(t,e,i,r,n,!a)},e.prototype.circle=function(t,e,i){return this.arc(t,e,i,Lampyridae.PIx2)},e}(),i.exports=Lampyridae.Draw}).call(this)}),require.register("lampyridae.coffee",function(t,e,i){(function(){!function(){var t;if(null==window.Lampyridae)return window.Lampyridae={};throw t=new Error("Lampyridae namespace could not be assigned. Is there a conflict?"),t.name="FatalError",t}(),e("config"),e("core/canvas"),e("core/draw"),e("particle/particle")}).call(this)}),require.register("maths/rand.coffee",function(t,e,i){(function(){e("lampyridae"),Lampyridae.rand=function(t,e){return 0===arguments.length?Math.random():(e-t)*Math.random()+t},i.exports=Lampyridae.rand}).call(this)}),require.register("particle/firefly.coffee",function(t,e,i){(function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e("maths/rand"),e("util/hslToRgb"),Lampyridae.Firefly=function(e){function i(t,e){var n;null==e&&(e={}),null==e.x&&(e.x=Lampyridae.rand(0,t.width())),null==e.y&&(e.y=Lampyridae.rand(0,t.height())),null==e.speed&&(e.speed=Lampyridae.rand(this.speedMin,this.speedMax)),null==e.theta&&(e.theta=Lampyridae.rand(0,Lampyridae.PIx2)),null==e.radius&&(e.radius=Lampyridae.rand(this.radiusMin,this.radiusMax)),null==e.alpha&&(e.alpha=this.opacity),null==e.bound&&(e.bound=this.bound),null==e.colour&&(n=Lampyridae.hslToRgb(Lampyridae.rand(this.hueMin,this.hueMax),this.saturation,this.lightness),e.colour="rgb("+n[0]+", "+n[1]+", "+n[2]+")"),i.__super__.constructor.call(this,t,e)}return t(i,e),i.prototype.speedMin=1,i.prototype.speedMax=7,i.prototype.radiusMax=3,i.prototype.radiusMin=.5,i.prototype.turningAngle=.1*Math.PI,i.prototype.hueMax=102.72,i.prototype.hueMin=65.28,i.prototype.saturation="100%",i.prototype.lightness="50%",i.prototype.opacity=.8,i.prototype.bound="hard",i.prototype.randomTurn=function(){return this.turn(this.turningAngle*(2*Math.random()-1))},i.prototype.fly=function(){return this.applyBounds()||this.randomTurn(),this.move()},i.prototype.update=function(){return this.fly(),this.draw()},i.prototype.draw=function(){return this.canvas.draw.begin(),this.canvas.draw.setGlobalAlpha(this.alpha),Lampyridae.enableSimpleGlow&&this.canvas.draw.glow(2*this.r,this.colour),this.canvas.draw.circle(this.x,this.y,this.r),this.canvas.draw.fill(this.colour),this.canvas.draw.end()},i}(Lampyridae.Particle),i.exports=Lampyridae.Firefly}).call(this)}),require.register("particle/particle.coffee",function(t,e,i){(function(){Lampyridae.Particle=function(){function t(t,e){var i,n,r,a,o,s,h;if(this.canvas=t,!(arguments.length>0))throw new Error("Lampyridae: Particle requires a valid Canvas instance to be attached to");if(null==e&&(e={}),"[object Object]"!==toString.call(e))throw new Error("Lampyridae: Particle requires a valid object of options");if(this.x=null!=(i=e.x)?i:0,this.y=null!=(n=e.y)?n:0,this.t=null!=(r=e.theta)?r:0,this.v=null!=(a=e.speed)?a:0,this.r=null!=(o=e.radius)?o:1,this.colour=null!=(s=e.colour)?s:"rgb(255, 255, 255)",this.alpha=null!=(h=e.alpha)?h:1,this.bounded=!1,this.periodic=!1,null!=e.bound)switch(e.bound){case"hard":this.bounded=!0;break;case"periodic":this.bounded=!0,this.periodic=!0;break;case"none":break;default:console.warn("Lampyridae: "+e.bound+" is not valid bound. Defaulting to 'none'")}}return t.prototype.vx=function(){return this.v*Math.cos(this.t)},t.prototype.vy=function(){return this.v*Math.sin(this.t)},t.prototype.turn=function(t){return null==t&&(t=0),this.t+=t},t.prototype.turnAround=function(){return this.turn(Math.PI)},t.prototype.move=function(){return this.x+=Lampyridae.timestep*this.vx(),this.y+=Lampyridae.timestep*this.vy()},t.prototype.isOutsideCanvasX=function(){var t;return!(0<=(t=this.x)&&t<=this.canvas.width())},t.prototype.isOutsideCanvasY=function(){var t;return!(0<=(t=this.y)&&t<=this.canvas.height())},t.prototype.isOutsideCanvas=function(){return this.isOutsideCanvasX()||this.isOutsideCanvasY()},t.prototype.applyHardBounds=function(){if(this.isOutsideCanvas()){for(this.turnAround();!this.isOutsideCanvas();)this.move;return!0}return!1},t.prototype.applyPeriodicBounds=function(){var t;return t=!1,this.isOutsideCanvasX()&&(this.x=-this.x+this.canvas.width(),t=!0),this.isOutsideCanvasY()&&(this.y=-this.y+this.canvas.height(),t=!0),t},t.prototype.applyBounds=function(){return this.periodic?this.applyPeriodicBounds():!!this.bounded&&this.applyHardBounds()},t.prototype.update=function(){return this.applyBounds(),this.move(),this.draw()},t.prototype.draw=function(){return this.canvas.draw.begin(),this.canvas.draw.circle(this.x,this.y,this.r),this.canvas.draw.fill(this.colour),this.canvas.draw.end()},t}(),i.exports=Lampyridae.Particle}).call(this)}),require.register("util/checkSupport.coffee",function(t,e,i){(function(){e("lampyridae"),Lampyridae.checkSupport=function(){return Boolean(document.createElement("canvas").getContext)},i.exports=Lampyridae.checkSupport}).call(this)}),require.register("util/hslToRgb.coffee",function(t,e,i){(function(){e("lampyridae"),Lampyridae.hslToRgb=function(t,e,i){var n,r,a,o,s,h;return t=parseFloat(t)/360,e=parseFloat(e)/100,i=parseFloat(i)/100,0===e?h=r=n=i:(a=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<.5?e:i<1/6?t+6*(e-t)*i:i<2/3?t+(e-t)*(4-6*i):t},s=i<.5?i*(1+e):i+e-i*e,o=2*i-s,h=a(o,s,t+1/3),r=a(o,s,t),n=a(o,s,t-1/3)),[Math.round(255*h),Math.round(255*r),Math.round(255*n)]},i.exports=Lampyridae.hslToRgb}).call(this)}),require.register("util/mediaMinWidth.coffee",function(t,e,i){(function(){e("lampyridae"),Lampyridae.mediaMinWidth=function(t){return null==t&&(t="600px"),window.matchMedia("screen and (min-width: "+t+")").matches},i.exports=Lampyridae.mediaMinWidth}).call(this)}),require.register("___globals___",function(t,e,i){})}(),require("___globals___"),require("lampyridae");
