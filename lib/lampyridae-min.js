!function(){"use strict";var t="undefined"==typeof window?global:window;if("function"!=typeof t.require){var e={},r={},i={},n={}.hasOwnProperty,a=/^\.\.?(\/|$)/,o=function(t,e){for(var r,i=[],n=(a.test(e)?t+"/"+e:e).split("/"),o=0,s=n.length;o<s;o++)r=n[o],".."===r?i.pop():"."!==r&&""!==r&&i.push(r);return i.join("/")},s=function(t){return t.split("/").slice(0,-1).join("/")},u=function(e){return function(r){var i=o(s(e),r);return t.require(i,e)}},c=function(t,e){var i=null;i=m&&m.createHot(t);var n={id:t,exports:{},hot:i};return r[t]=n,e(n.exports,u(t),n),n.exports},p=function(t){return i[t]?p(i[t]):t},l=function(t,e){return p(o(s(t),e))},h=function(t,i){null==i&&(i="/");var a=p(t);if(n.call(r,a))return r[a].exports;if(n.call(e,a))return c(a,e[a]);throw new Error("Cannot find module '"+t+"' from '"+i+"'")};h.alias=function(t,e){i[e]=t};var d=/\.[^.\/]+$/,f=/\/index(\.[^\/]+)?$/,y=function(t){if(d.test(t)){var e=t.replace(d,"");n.call(i,e)&&i[e].replace(d,"")!==e+"/index"||(i[e]=t)}if(f.test(t)){var r=t.replace(f,"");n.call(i,r)||(i[r]=t)}};h.register=h.define=function(t,i){if("object"==typeof t)for(var a in t)n.call(t,a)&&h.register(a,t[a]);else e[t]=i,delete r[t],y(t)},h.list=function(){var t=[];for(var r in e)n.call(e,r)&&t.push(r);return t};var m=t._hmr&&new t._hmr(l,h,e,r);h._cache=r,h.hmr=m&&m.wrap,h.brunch=!0,t.require=h}}(),function(){window;require.register("config.coffee",function(t,e,r){(function(){window.Lampyridae.enableSimpleGlow=!0,window.Lampyridae.timestep=1,window.Lampyridae.PI2=2*Math.PI,window.Lampyridae.bugHueMax=102.72,window.Lampyridae.bugHueMin=65.28,window.Lampyridae.bugSaturation="100%",window.Lampyridae.bugLightness="50%",window.Lampyridae.bugOpacity=.8,window.Lampyridae.bugRadiusMax=3,window.Lampyridae.bugRadiusMin=.5,window.Lampyridae.bugSpeedMin=1,window.Lampyridae.bugSpeedMax=7,window.Lampyridae.bugTurningAngle=.1*Math.PI}).call(this)}),require.register("core/canvas.coffee",function(t,e,r){(function(){Lampyridae.Canvas=function(){function t(t,e){if(this.id=t,this.parent=null!=e?e:"body",arguments.length<1)throw new Error("Lampyridae: Canvas requires an #id selector");this.element=document.createElement("canvas"),this.context=this.element.getContext("2d"),this.setID(),this.append(),this.resizeToParent(),$(window).resize(function(t){return function(){return t.resizeToParent()}}(this)),this.draw=new Lampyridae.Draw(this)}return t.prototype.width=function(){return $(this.element).width()},t.prototype.height=function(){return $(this.element).height()},t.prototype.area=function(){return $(this.element).width()*$(this.element).height()},t.prototype.setWidth=function(t){return null==t&&(t=$(this.parent).innerWidth()),$(this.element).width(t).attr("width",t),t},t.prototype.setHeight=function(t){return null==t&&(t=$(this.parent).innerHeight()),$(this.element).height(t).attr("height",t),t},t.prototype.setID=function(t){return this.id=null!=t?t:this.id,$(this.element).attr("id",this.id),this.id},t.prototype.append=function(t){return this.parent=null!=t?t:this.parent,$(this.parent).append(this.element),console.log("Lampyridae: Appended #"+this.id+" to "+this.parent)},t.prototype.resizeToParent=function(){return this.setWidth(),this.setHeight()},t}(),r.exports=Lampyridae.Canvas}).call(this)}),require.register("core/draw.coffee",function(t,e,r){(function(){Lampyridae.Draw=function(){function t(t){if(this.canvas=t,arguments.length<1)throw new Error("Lampyridae: Draw requires an instance of Canvas");this.ctx=this.canvas.context,console.log("Lampyridae: Initialised 2D drawing object for #"+this.canvas.id+" ")}return t.prototype.clear=function(t,e,r,i){return this.ctx.clearRect(t,e,r,i)},t.prototype.clear=function(){return this.ctx.clearRect(0,0,this.canvas.width(),this.canvas.height())},t.prototype.resetGlobalAlpha=function(){return this.ctx.globalAlpha=1},t.prototype.setGlobalAlpha=function(t){return 0<=t&&t<1?this.ctx.globalAlpha=t:this.resetGlobalAlpha()},t.prototype.beginClose=function(t){return this.ctx.beginPath(),"function"==typeof t&&t(),this.ctx.closePath()},t.prototype.begin=function(){return this.ctx.beginPath()},t.prototype.end=function(){return this.ctx.closePath()},t.prototype.stroke=function(t,e){return this.ctx.strokeStyle=e,this.ctx.lineWidth=t,this.ctx.stroke()},t.prototype.fill=function(t){return this.ctx.fillStyle=t,this.ctx.fill()},t.prototype.glow=function(t,e,r,i){return null==r&&(r=0),null==i&&(i=0),this.canvas.context.shadowOffsetX=r,this.canvas.context.shadowOffsetY=i,this.canvas.context.shadowColor=e,this.canvas.context.shadowBlur=t},t.prototype.arc=function(t,e,r,i,n,a){return null==n&&(n=0),null==a&&(a=!1),this.ctx.arc(t,e,r,n,i,!a)},t.prototype.circle=function(t,e,r){return this.arc(t,e,r,Lampyridae.PI2)},t}(),r.exports=Lampyridae.Draw}).call(this)}),require.register("lampyridae.coffee",function(t,e,r){(function(){!function(){var t;if(null==window.Lampyridae)return window.Lampyridae={};throw t=new Error("Lampyridae namespace could not be assigned. Is there a conflict?"),t.name="FatalError",t}(),e("config"),e("core/canvas"),e("core/draw")}).call(this)}),require.register("particle/bug.coffee",function(t,e,r){(function(){var t=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;e("lampyridae"),e("particle/particle"),e("util/hslToRgb"),e("util/rand"),Lampyridae.Bug=function(e){function r(t,e,i,n,a,o,s,u){var c;if(!(arguments.length>0))throw new Error("Lampyridae: Bug requires a valid Canvas instance to be attached to");null==e&&(e=Lampyridae.rand(0,t.width())),null==i&&(i=Lampyridae.rand(0,t.height())),null==a&&(a=Lampyridae.rand(Lampyridae.bugSpeedMin,Lampyridae.bugSpeedMax)),null==n&&(n=Lampyridae.rand(0,Lampyridae.PI2)),null==o&&(o=Lampyridae.rand(Lampyridae.bugRadiusMin,Lampyridae.bugRadiusMax)),c=Lampyridae.rand(Lampyridae.bugHueMin,Lampyridae.bugHueMax),null==s&&(s=Lampyridae.hslToRgb(c,Lampyridae.bugSaturation,Lampyridae.bugLightness)),s="rgb("+s[0]+", "+s[1]+", "+s[2]+")",null==u&&(u=Lampyridae.bugOpacity),r.__super__.constructor.call(this,t,e,i,n,a,o,{colour:s,alpha:u})}return t(r,e),r.prototype.randomTurn=function(){return this.turn(Lampyridae.bugTurningAngle*(2*Math.random()-1))},r.prototype.fly=function(){return this.applyHardBounds()},r.prototype.update=function(){return this.fly(),this.draw()},r.prototype.draw=function(){return this.canvas.draw.begin(),this.canvas.draw.setGlobalAlpha(this.alpha),Lampyridae.enableSimpleGlow&&this.canvas.draw.glow(2*this.r,this.colour),this.canvas.draw.circle(this.x,this.y,this.r),this.canvas.draw.fill(this.colour),this.canvas.draw.end()},r}(Lampyridae.Particle),r.exports=Lampyridae.Bug}).call(this)}),require.register("particle/particle.coffee",function(t,e,r){(function(){e("lampyridae"),Lampyridae.Particle=function(){function t(t,e,r,i,n,a,o){var s,u;this.canvas=t,this.x=e,this.y=r,this.t=i,this.v=n,this.r=a,this.colour=null!=(s=o.colour)?s:"rgb(255, 255, 255)",this.alpha=null!=(u=o.alpha)?u:1}return t.prototype.vx=function(){return this.v*Math.cos(this.t)},t.prototype.vy=function(){return this.v*Math.sin(this.t)},t.prototype.turn=function(t){return null==t&&(t=0),this.t+=t},t.prototype.turnAround=function(){return this.turn(Math.PI)},t.prototype.move=function(){return this.x+=Lampyridae.timestep*this.vx(),this.y+=Lampyridae.timestep*this.vy()},t.prototype.isOutsideCanvas=function(){var t,e;return!(0<=(t=this.x)&&t<=this.canvas.width())||!(0<=(e=this.y)&&e<=this.canvas.height())},t.prototype.applyHardBounds=function(){if(this.isOutsideCanvas())for(this.turnAround();!this.isOutsideCanvas();)this.move;else this.randomTurn();return this.move()},t.prototype.update=function(){return this.move(),this.draw()},t.prototype.draw=function(){return this.canvas.draw.begin(),this.canvas.draw.circle(this.x,this.y,this.r),this.canvas.draw.fill(this.colour),this.canvas.draw.end()},t}(),r.exports=Lampyridae.Particle}).call(this)}),require.register("util/hslToRgb.coffee",function(t,e,r){(function(){e("lampyridae"),Lampyridae.hslToRgb=function(t,e,r){var i,n,a,o,s,u;return t=parseFloat(t)/360,e=parseFloat(e)/100,r=parseFloat(r)/100,0===e?u=n=i=r:(a=function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<.5?e:r<1/6?t+6*(e-t)*r:r<2/3?t+(e-t)*(4-6*r):t},s=r<.5?r*(1+e):r+e-r*e,o=2*r-s,u=a(o,s,t+1/3),n=a(o,s,t),i=a(o,s,t-1/3)),[Math.round(255*u),Math.round(255*n),Math.round(255*i)]},r.exports=Lampyridae.hslToRgb}).call(this)}),require.register("util/rand.coffee",function(t,e,r){(function(){e("lampyridae"),Lampyridae.rand=function(t,e){return 0===arguments.length?Math.random():(e-t)*Math.random()+t},r.exports=Lampyridae.rand}).call(this)}),require.register("___globals___",function(t,e,r){})}(),require("___globals___"),require("lampyridae");
