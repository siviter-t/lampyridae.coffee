(function(){var t,i;i=function(){var t;if(null==window.Lampyridae)return window.Lampyridae={};throw t=new Error("Lampyridae namespace could not be assigned. Is there a conflict?"),t.name="FatalError",t}(),window.Lampyridae.bugDefaultColour="#FAFF0A",window.Lampyridae.bugHueMax=102.72,window.Lampyridae.bugHueMin=65.28,window.Lampyridae.bugSaturation=1,window.Lampyridae.bugLightness=.5,window.Lampyridae.bugRadiusMax=1.5,window.Lampyridae.bugRadiusMin=.2,window.Lampyridae.bugTurningAngle=.25*Math.PI,window.Lampyridae.timestep=1,Lampyridae.Bug=function(){function t(t,i,n,e,a){this.x=t,this.y=i,this.theta=n,this.v=e,this.canvas=a,this.radius=(Lampyridae.bugRadiusMax-Lampyridae.bugRadiusMin)*Math.random()+Lampyridae.bugRadiusMin}return t.prototype.vx=function(){return this.v*Math.cos(this.theta)},t.prototype.vy=function(){return this.v*Math.sin(this.theta)},t.prototype.move=function(){this.x+=Lampyridae.timestep*this.vx(),this.y+=Lampyridae.timestep*this.vy()},t.prototype.turn=function(t){null==t&&(t=0),this.theta+=t},t.prototype.turnAround=function(){this.turn(Math.PI)},t.prototype.randomTurn=function(){this.turn(Lampyridae.bugTurningAngle*(2*Math.random()-1))},t.prototype.isOutsideCanvas=function(){var t,i;return!(0<=(t=this.x)&&t<=this.canvas.width())||!(0<=(i=this.y)&&i<=this.canvas.height())},t.prototype.hardBoundedFlight=function(){if(this.isOutsideCanvas())for(this.turnAround();!this.isOutsideCanvas();)this.move;else this.randomTurn();this.move()},t.prototype.fly=function(){this.hardBoundedFlight()},t.prototype.update=function(){this.fly(),this.draw()},t.prototype.draw=function(){this.canvas.context.beginPath(),this.canvas.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.canvas.context.fillStyle=Lampyridae.bugDefaultColour,this.canvas.context.fill()},t}(),Lampyridae.Canvas=function(){function t(t,i){if(this.id=t,this.parent=null!=i?i:"body",!(arguments.length>=1))throw new Error("Canvas requires an #id selector");this.element=document.createElement("canvas"),this.context=this.element.getContext("2d"),this.setID(),this.append(),this.resizeToParent(),$(window).resize(function(t){return function(){t.resizeToParent()}}(this))}return t.prototype.width=function(){return $(this.element).width()},t.prototype.height=function(){return $(this.element).height()},t.prototype.setWidth=function(t){return null==t&&(t=$(this.parent).innerWidth()),$(this.element).width(t).attr("width",t),t},t.prototype.setHeight=function(t){return null==t&&(t=$(this.parent).innerHeight()),$(this.element).height(t).attr("height",t),t},t.prototype.setID=function(t){return this.id=null!=t?t:this.id,$(this.element).attr("id",this.id),this.id},t.prototype.append=function(t){this.parent=null!=t?t:this.parent,$(this.parent).append(this.element),console.log("Lampyridae: Appended #"+this.id+" to "+this.parent)},t.prototype.resizeToParent=function(){this.setWidth(),this.setHeight()},t.prototype.clear=function(){this.context.clearRect(0,0,this.width(),this.height())},t}(),t=function(t,i,n){var e,a,r,o,s,h;return t=0===i?h=a=e=n:(r=function(t,i,n){return n<0&&(n+=1),n>1&&(n-=1),n<.5?i:n<1/6?t+6*(i-t)*n:n<2/3?t+(i-t)*(4-6*n):t},s=n<.5?n*(1+i):n+i-n*i,o=2*n-s,h=r(o,s,t+1/3),a=r(o,s,t),e=r(o,s,t-1/3)),[255*h,255*a,255*e]},$(document).ready(function(){var t,i,n,e,a,r;n=new Lampyridae.Canvas("world"),a=50,i=[],e=function(){var t,e,r,o;for(e=r=0,o=a;0<=o?r<o:r>o;e=0<=o?++r:--r)t=new Lampyridae.Bug(25,25,0,8,n),i.push(t)},t=function(){n.clear(),r(),requestAnimationFrame(t)},r=function(){var t,n,e;for(t=n=0,e=a;0<=e?n<e:n>e;t=0<=e?++n:--n)i[t].update()},e(),t()})}).call(this);