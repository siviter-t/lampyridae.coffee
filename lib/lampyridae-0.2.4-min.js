!function(){"use strict";var t="undefined"==typeof window?global:window;if("function"!=typeof t.require){var e={},r={},n={},i={}.hasOwnProperty,a=/^\.\.?(\/|$)/,o=function(t,e){for(var r,n=[],i=(a.test(e)?t+"/"+e:e).split("/"),o=0,s=i.length;o<s;o++)r=i[o],".."===r?n.pop():"."!==r&&""!==r&&n.push(r);return n.join("/")},s=function(t){return t.split("/").slice(0,-1).join("/")},u=function(e){return function(r){var n=o(s(e),r);return t.require(n,e)}},c=function(t,e){var n=null;n=m&&m.createHot(t);var i={id:t,exports:{},hot:n};return r[t]=i,e(i.exports,u(t),i),i.exports},l=function(t){return n[t]?l(n[t]):t},p=function(t,e){return l(o(s(t),e))},h=function(t,n){null==n&&(n="/");var a=l(t);if(i.call(r,a))return r[a].exports;if(i.call(e,a))return c(a,e[a]);throw new Error("Cannot find module '"+t+"' from '"+n+"'")};h.alias=function(t,e){n[e]=t};var d=/\.[^.\/]+$/,f=/\/index(\.[^\/]+)?$/,y=function(t){if(d.test(t)){var e=t.replace(d,"");i.call(n,e)&&n[e].replace(d,"")!==e+"/index"||(n[e]=t)}if(f.test(t)){var r=t.replace(f,"");i.call(n,r)||(n[r]=t)}};h.register=h.define=function(t,n){if("object"==typeof t)for(var a in t)i.call(t,a)&&h.register(a,t[a]);else e[t]=n,delete r[t],y(t)},h.list=function(){var t=[];for(var r in e)i.call(e,r)&&t.push(r);return t};var m=t._hmr&&new t._hmr(p,h,e,r);h._cache=r,h.hmr=m&&m.wrap,h.brunch=!0,t.require=h}}(),function(){window;require.register("config.coffee",function(t,e,r){(function(){Lampyridae.enableSimpleGlow=!0,Lampyridae.timestep=1,Lampyridae.PI2=2*Math.PI,Lampyridae.bugHueMax=102.72,Lampyridae.bugHueMin=65.28,Lampyridae.bugSaturation="100%",Lampyridae.bugLightness="50%",Lampyridae.bugOpacity=.8,Lampyridae.bugRadiusMax=3,Lampyridae.bugRadiusMin=.5,Lampyridae.bugSpeedMin=1,Lampyridae.bugSpeedMax=7,Lampyridae.bugTurningAngle=.1*Math.PI}).call(this)}),require.register("core/canvas.coffee",function(t,e,r){(function(){Lampyridae.Canvas=function(){function t(t,e){if(this.parent=null!=e?e:"body",arguments.length<1)throw new Error("Lampyridae: Canvas requires an #id selector");this.findOrMakeCanvas(t),this.context=this.element.getContext("2d"),this.size(),window.addEventListener("resize",function(t){return function(){return t.size()}}(this)),this.draw=new Lampyridae.Draw(this)}return t.prototype.findOrMakeCanvas=function(t,e){return null==e&&(e=this.parent),this.element=document.getElementById(t),null!=this.element?this.parent=this.element.parentElement:(this.element=document.createElement("canvas"),"body"===e?this.parent=document.body:this.parent=document.getElementById(e),this.id(t),this.appendCanvas())},t.prototype.appendCanvas=function(){return this.parent.appendChild(this.element),console.log("Lampyridae: Appended #"+this.element.id+" to "+this.parent.nodeName.toLowerCase()+"#"+this.parent.id)},t.prototype.id=function(t){return null!=t&&(this.element.id=t),this.element.id},t.prototype.width=function(t){return null!=t&&this.element.setAttribute("width",t),this.element.clientWidth},t.prototype.height=function(t){return null!=t&&this.element.setAttribute("height",t),this.element.clientHeight},t.prototype.size=function(t,e){return null==t&&(t=this.parent.clientWidth),null==e&&(e=this.parent.clientHeight),this.width(t),this.height(e)},t.prototype.area=function(){return this.width()*this.height()},t.prototype.has2DContext=function(){return null!=this.context&&this.context.constructor===CanvasRenderingContext2D},t}(),r.exports=Lampyridae.Canvas}).call(this)}),require.register("core/draw.coffee",function(t,e,r){(function(){Lampyridae.Draw=function(){function t(t){if(this.canvas=t,arguments.length<1)throw new Error("Lampyridae: Draw requires an instance of Canvas");this.ctx=this.canvas.context,console.log("Lampyridae: Initialised 2D drawing object for #"+this.canvas.id()+" ")}return t.prototype.clear=function(t,e,r,n){return this.ctx.clearRect(t,e,r,n)},t.prototype.clear=function(){return this.ctx.clearRect(0,0,this.canvas.width(),this.canvas.height())},t.prototype.resetGlobalAlpha=function(){return this.ctx.globalAlpha=1},t.prototype.setGlobalAlpha=function(t){return 0<=t&&t<1?this.ctx.globalAlpha=t:this.resetGlobalAlpha()},t.prototype.beginClose=function(t){return this.ctx.beginPath(),"function"==typeof t&&t(),this.ctx.closePath()},t.prototype.begin=function(){return this.ctx.beginPath()},t.prototype.end=function(){return this.ctx.closePath()},t.prototype.stroke=function(t,e){return this.ctx.strokeStyle=e,this.ctx.lineWidth=t,this.ctx.stroke()},t.prototype.fill=function(t){return this.ctx.fillStyle=t,this.ctx.fill()},t.prototype.glow=function(t,e,r,n){return null==r&&(r=0),null==n&&(n=0),this.canvas.context.shadowOffsetX=r,this.canvas.context.shadowOffsetY=n,this.canvas.context.shadowColor=e,this.canvas.context.shadowBlur=t},t.prototype.arc=function(t,e,r,n,i,a){return null==i&&(i=0),null==a&&(a=!1),this.ctx.arc(t,e,r,i,n,!a)},t.prototype.circle=function(t,e,r){return this.arc(t,e,r,Lampyridae.PI2)},t}(),r.exports=Lampyridae.Draw}).call(this)}),require.register("lampyridae.coffee",function(t,e,r){(function(){!function(){var t;if(null==window.Lampyridae)return window.Lampyridae={};throw t=new Error("Lampyridae namespace could not be assigned. Is there a conflict?"),t.name="FatalError",t}(),e("config"),e("core/canvas"),e("core/draw")}).call(this)}),require.register("particle/bug.coffee",function(t,e,r){(function(){var t=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;e("lampyridae"),e("particle/particle"),e("util/hslToRgb"),e("util/rand"),Lampyridae.Bug=function(e){function r(t,e,n,i,a,o,s,u){var c;if(!(arguments.length>0))throw new Error("Lampyridae: Bug requires a valid Canvas instance to be attached to");null==e&&(e=Lampyridae.rand(0,t.width())),null==n&&(n=Lampyridae.rand(0,t.height())),null==a&&(a=Lampyridae.rand(Lampyridae.bugSpeedMin,Lampyridae.bugSpeedMax)),null==i&&(i=Lampyridae.rand(0,Lampyridae.PI2)),null==o&&(o=Lampyridae.rand(Lampyridae.bugRadiusMin,Lampyridae.bugRadiusMax)),c=Lampyridae.rand(Lampyridae.bugHueMin,Lampyridae.bugHueMax),null==s&&(s=Lampyridae.hslToRgb(c,Lampyridae.bugSaturation,Lampyridae.bugLightness)),s="rgb("+s[0]+", "+s[1]+", "+s[2]+")",null==u&&(u=Lampyridae.bugOpacity),r.__super__.constructor.call(this,t,e,n,i,a,o,{colour:s,alpha:u})}return t(r,e),r.prototype.randomTurn=function(){return this.turn(Lampyridae.bugTurningAngle*(2*Math.random()-1))},r.prototype.fly=function(){return this.applyHardBounds()},r.prototype.update=function(){return this.fly(),this.draw()},r.prototype.draw=function(){return this.canvas.draw.begin(),this.canvas.draw.setGlobalAlpha(this.alpha),Lampyridae.enableSimpleGlow&&this.canvas.draw.glow(2*this.r,this.colour),this.canvas.draw.circle(this.x,this.y,this.r),this.canvas.draw.fill(this.colour),this.canvas.draw.end()},r}(Lampyridae.Particle),r.exports=Lampyridae.Bug}).call(this)}),require.register("particle/particle.coffee",function(t,e,r){(function(){e("lampyridae"),Lampyridae.Particle=function(){function t(t,e,r,n,i,a,o){var s,u;this.canvas=t,this.x=e,this.y=r,this.t=n,this.v=i,this.r=a,this.colour=null!=(s=o.colour)?s:"rgb(255, 255, 255)",this.alpha=null!=(u=o.alpha)?u:1}return t.prototype.vx=function(){return this.v*Math.cos(this.t)},t.prototype.vy=function(){return this.v*Math.sin(this.t)},t.prototype.turn=function(t){return null==t&&(t=0),this.t+=t},t.prototype.turnAround=function(){return this.turn(Math.PI)},t.prototype.move=function(){return this.x+=Lampyridae.timestep*this.vx(),this.y+=Lampyridae.timestep*this.vy()},t.prototype.isOutsideCanvas=function(){var t,e;return!(0<=(t=this.x)&&t<=this.canvas.width())||!(0<=(e=this.y)&&e<=this.canvas.height())},t.prototype.applyHardBounds=function(){if(this.isOutsideCanvas())for(this.turnAround();!this.isOutsideCanvas();)this.move;else this.randomTurn();return this.move()},t.prototype.update=function(){return this.move(),this.draw()},t.prototype.draw=function(){return this.canvas.draw.begin(),this.canvas.draw.circle(this.x,this.y,this.r),this.canvas.draw.fill(this.colour),this.canvas.draw.end()},t}(),r.exports=Lampyridae.Particle}).call(this)}),require.register("support/checkSupport.coffee",function(t,e,r){(function(){e("lampyridae"),Lampyridae.checkSupport=function(){return Boolean(document.createElement("canvas").getContext)},r.exports=Lampyridae.checkSupport}).call(this)}),require.register("support/mediaMinWidth.coffee",function(t,e,r){(function(){e("lampyridae"),Lampyridae.mediaMinWidth=function(t){return null==t&&(t="600px"),window.matchMedia("screen and (min-width: "+t+")").matches},r.exports=Lampyridae.mediaMinWidth}).call(this)}),require.register("util/hslToRgb.coffee",function(t,e,r){(function(){e("lampyridae"),Lampyridae.hslToRgb=function(t,e,r){var n,i,a,o,s,u;return t=parseFloat(t)/360,e=parseFloat(e)/100,r=parseFloat(r)/100,0===e?u=i=n=r:(a=function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<.5?e:r<1/6?t+6*(e-t)*r:r<2/3?t+(e-t)*(4-6*r):t},s=r<.5?r*(1+e):r+e-r*e,o=2*r-s,u=a(o,s,t+1/3),i=a(o,s,t),n=a(o,s,t-1/3)),[Math.round(255*u),Math.round(255*i),Math.round(255*n)]},r.exports=Lampyridae.hslToRgb}).call(this)}),require.register("util/rand.coffee",function(t,e,r){(function(){e("lampyridae"),Lampyridae.rand=function(t,e){return 0===arguments.length?Math.random():(e-t)*Math.random()+t},r.exports=Lampyridae.rand}).call(this)}),require.register("___globals___",function(t,e,r){})}(),require("___globals___"),require("lampyridae");
